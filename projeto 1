import pyshorteners
import json
from os import path

urls_list = {}
resp = "sim"


while resp == "sim":
    short_find = input("Short or find url: ")
    if short_find == "short":
        long_url = input("Enter the URL to shorten: ")
        type_tiny = pyshorteners.Shortener()
        short_url = type_tiny.tinyurl.short(long_url)
        print("new url: " + short_url)
        urls_list={long_url:short_url}
        if path.isfile("urlsencurtadas.json") is False:
            with open("urlsencurtadas.json", "w") as j:
                json.dump(urls_list, j)
        else:
            with open("urlsencurtadas.json", "r") as j:
                data = json.load(j)
                data["urlsencurtadas.json"]
            with open("urlsencurtadas.json", "r+") as j:
                json.dump(urls_list, j)




    elif short_find == "find":
        short_url = input("Enter the URL to find: ")
        if path.isfile("urlsencurtadas.json") is True:
            with open("urlsencurtadas.json","r") as j:
                for long_url,short_url in j:
                    print("URL extended found: ", short_url[long_url])
        else:
            Error404
    resp = input("Continuar?: ")



